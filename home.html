<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style/homeStyle.css">
        <meta charset="utf-8">
        <title>Abacus Home</title>
    </head>
    <body>
 
        <nav>
 
            <ul>
                <li class="List"><a href="#" id="home" onclick="home_click()">Home</a></li>
                <li class="List"><a href="#" id="log" onclick="log_click()">Notification Log</a></li>
                <li class="List"><a href="#" id="about">About</a></li>
                <li class="logoutList"><a href="#" id="logout">logout</a></li>
 
            </ul>
 
        </nav>
 
 
        <div class="container" id="home_content">
            <h2 >Abacus Security screen</h2>
            <h2 id="resultScreen">Object Detection : </h2>
        </div>
        <div class="container" id="log_content" style="margin-top: -120px">
        <div class="row">
        <h2 style="color:red; padding-bottom: 20px;text-align: center;">Details Information Of Touch Detection</h2>

                 <table class="table">
              <thead>
                <tr>
                  <th>Serial No.</th>
                  <th>Sensor No.</th>
                  <th>Touch Time</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                    <td>1</td>
                    <td>5</td>
                    <td>2:20:11</td>
                   <td>11/31/2018</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>5</td>
                    <td>2:20:11</td>
                   <td>11/31/2018</td>
                </tr>

              </tbody>
            </table>
        </div>
     </div>
 
        <script>
              function log_click() {
                 console.log("log_cick()");
                  document.getElementById('home_content').style.visibility="hidden";
                  document.getElementById('log_content').style.visibility="visible";

              }

              function home_click() {
                console.log("home_click()");
                document.getElementById('home_content').style.visibility="visible";
                document.getElementById('log_content').style.visibility="hidden";                  
              };
              home_click();

            var counter="0";
            var flag=false;
            var display = document.getElementById("resultScreen");
            function setSignalScreen(){
                console.log("Call screen "+counter);
                getHttpRequest();
            };
 
            function getHttpRequest(){
                var xhr = new XMLHttpRequest();
                xhr.open("GET","/reqCount",true);
                xhr.responseType = 'text';
                xhr.onload = function(){
                    if(xhr.readyState === xhr.DONE){
                        if(xhr.responseText != counter){
                            console.log("Response: "+xhr.responseText);
                            display.innerHTML = "Object Detection : yes";
                            counter=xhr.responseText;
                            flag=true;
                        }else{
                            console.log("Response: "+xhr.responseText);
                            display.innerHTML = "Object Detection : no";
                            counter=xhr.responseText;
                        }
                    }
                }
                xhr.send(null); 
            }
            //setSignalScreen();
            //setInterval(setSignalScreen,1000);
        </script>
 
    </body>
</html>